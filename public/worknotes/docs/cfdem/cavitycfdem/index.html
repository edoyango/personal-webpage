<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Converting the OpenFOAM cavity example for CFDEM # The cavity case is a good one to start with as it forms the beginning of the official OpenFOAM tutorials. These steps assume we&rsquo;re using the PUBLIC version of CFDEM which couples LIGGGHTS-PUBLIC 3.8.0 and OpenFOAM-5.x. It also assumes that your environment variables have already been setup as per the CFDEM insallation instructions.
Getting the case files # The lid-driven cavity flow example case comes with the OpenFOAM source code.">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="OpenFOAM cavity case to CFDEM" />
<meta property="og:description" content="Converting the OpenFOAM cavity example for CFDEM # The cavity case is a good one to start with as it forms the beginning of the official OpenFOAM tutorials. These steps assume we&rsquo;re using the PUBLIC version of CFDEM which couples LIGGGHTS-PUBLIC 3.8.0 and OpenFOAM-5.x. It also assumes that your environment variables have already been setup as per the CFDEM insallation instructions.
Getting the case files # The lid-driven cavity flow example case comes with the OpenFOAM source code." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/worknotes/docs/cfdem/cavitycfdem/" /><meta property="article:section" content="docs" />

<meta property="article:modified_time" content="2023-07-08T23:03:26+10:00" />

<title>OpenFOAM cavity case to CFDEM | Ed&#39;s Space - Notes</title>
<link rel="manifest" href="/worknotes/manifest.json">
<link rel="icon" href="/worknotes/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/worknotes/book.min.16fde4d05cd1cf758f445b62581a359a2b0aa3a8b1be4966bf73546658560a86.css" >
  <script defer src="/worknotes/flexsearch.min.js"></script>
  <script defer src="/worknotes/en.search.min.5720fcdb3b8c15d19099a7ac209d3373550a1b04bbf08696f3860b86d969eb9a.js" ></script>

  <script defer src="/worknotes/sw.min.97afbbb840f8817a158b86f13f6a071d4ddf793bff2b4832f0bea2832fcea52b.js" ></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/worknotes/"><span>Ed&#39;s Space - Notes</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/f-cpp/" class="">A Basic Comparison of C&#43;&#43; vs Fortran</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-66e324409520a0737bd43cc569874f83" class="toggle"  />
    <label for="section-66e324409520a0737bd43cc569874f83" class="flex justify-between">
      <a role="button" class="">Investigating Manual Vectorization for SPH</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/manual-vectorization/motivation/" class="">Motivation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/manual-vectorization/addition/" class="">Vectorizing Array Addition</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/manual-vectorization/sumreduce/" class="">Vector Sum Reduction</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/manual-vectorization/faster-sumreduce/" class="">Faster Vector Sum Reduction</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/manual-vectorization/sweep/" class="">Vectorizing A Simple Pair Sweep</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/manual-vectorization/cll-avx512/" class="">Vectorizing Cell-based Pair Search</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-0a528f07e9a082a49af09fdd51803971" class="toggle"  />
    <label for="section-0a528f07e9a082a49af09fdd51803971" class="flex justify-between">
      <a role="button" class="">Useful code snippets</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/useful/fixed-cutoff-direct-pair-search/" class="">Direct pair search</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/useful/fixed-cutoff-cell-lists-pair-search/" class="">Cell list pair search</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/useful/fixed-cutoff-cell-lists-pair-searchhalf-search/" class="">Cell list pair search - reducing search space</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/useful/grid-rows-spatial-hashing/" class="">grid dimension hashing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/useful/fixed-cutoff-pair-search-noifs/" class="">Cell lists pair search without &#34;if&#34;</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/useful/z-curve-spatial-hashing/" class="">Z-curve hashing</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/caf/" class="">Coarray Fortran Things</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-dd9822fd3605fad8b87900cb6ce57d44" class="toggle"  />
    <label for="section-dd9822fd3605fad8b87900cb6ce57d44" class="flex justify-between">
      <a role="button" class="">CUDA Programming</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/cuda/cuda-wsl/" class="">CUDA &#43; NVHPC on WSL</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/cuda/frn-thrust/" class="">Fixed-Radius Neighbour Search Using Thrust</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/cuda/reference-codes/" class="">nvfortran and nvc&#43;&#43; reference codes</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/cuda/reference-codes/deviceQuery/" class="">deviceQuery</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/cuda/reference-codes/precision_m/" class="">precision_m</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/cuda/reference-codes/error/" class="">Error Handling</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/cuda/reference-codes/limitingFactor/" class="">limitingFactor</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/cuda/reference-codes/peakBandwidth/" class="">peakBandwidth</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/cuda/reference-codes/bandwidthTest/" class="">bandwidthTest</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/cuda/reference-codes/MemCpy/" class="">MemCpy</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/cuda/reference-codes/testAsync/" class="">testAsync</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/cuda/reference-codes/offsetNStride/" class="">offsetNStride</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/cuda/reference-codes/strideTexture/" class="">strideTexture</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/cuda/reference-codes/sharedExample/" class="">sharedExample</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/cuda/reference-codes/checkP2pAccess/" class="">checkP2PAccess</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/cuda/reference-codes/directTransfer/" class="">directTransfer</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/cuda/reference-codes/p2pBandwidth/" class="">p2pBandwidth</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/cuda/reference-codes/mpiDevices/" class="">mpiDevices</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/cuda/reference-codes/mpiDeviceUtil/" class="">mpiDeviceUtil</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/cuda/reference-codes/transposeMPI/" class="">transposeMPI</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-60fac35d986ec8cfa3e69ae7d6bd89c7" class="toggle" checked />
    <label for="section-60fac35d986ec8cfa3e69ae7d6bd89c7" class="flex justify-between">
      <a href="/worknotes/docs/cfdem/" class="">CFDEM</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/cfdem/cavitycfdem/" class="active">OpenFOAM cavity case to CFDEM</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/cfdem/snappyhexmesh/" class="">Snappy Hex Mesh Basics</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/cfdem/liggghts-intel-comp/" class="">Speeding Up LIGGGHTS with Intel Compilers and Compiler Options</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-a7de28c45dd79595ad56b835eba0d6dc" class="toggle"  />
    <label for="section-a7de28c45dd79595ad56b835eba0d6dc" class="flex justify-between">
      <a role="button" class="">Raspberry Pis</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/pi/trim-jetsonnano/" class="">Reducing Jetson Nano OS for Server</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/pi/webserver/" class="">Setting Up Public Webserver on Raspberry Pi</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/worknotes/docs/pi/slurm-cluster/" class="">Setting Up Raspberry Pi Slurm Cluster</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>











  
<ul>
  
  <li>
    <a href="https://github.com/edoyango"  target="_blank" rel="noopener">
        GitHub
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/worknotes/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>OpenFOAM cavity case to CFDEM</strong>

  <label for="toc-control">
    
    <img src="/worknotes/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#converting-the-openfoam-cavity-example-for-cfdem">Converting the OpenFOAM cavity example for CFDEM</a>
      <ul>
        <li><a href="#getting-the-case-files">Getting the case files</a></li>
        <li><a href="#1-set-up-the-directory-structure">1. Set up the directory structure</a></li>
        <li><a href="#2-copy-a-cfdem-executor-wrapper-script-and-modify">2. Copy a CFDEM executor wrapper script and modify</a></li>
        <li><a href="#3-update-openfoam-mesh">3. Update OpenFOAM mesh</a>
          <ul>
            <li><a href="#3a-make-the-mesh-finer">3a. Make the mesh finer</a></li>
            <li><a href="#3b-add-the-mesh-decomposition-dictionary">3b. Add the mesh decomposition dictionary</a></li>
          </ul>
        </li>
        <li><a href="#4-update-initial-conditions">4. Update initial conditions</a>
          <ul>
            <li><a href="#phiib">phiIB</a></li>
            <li><a href="#us">Us</a></li>
            <li><a href="#voidfraction">voidfraction</a></li>
          </ul>
        </li>
        <li><a href="#5-update-solver-schemes">5. Update solver schemes</a></li>
        <li><a href="#6-update-fvsolution">6. Update fvSolution</a></li>
        <li><a href="#7-add-constants">7. Add constants</a>
          <ul>
            <li><a href="#transportproperties">transportProperties</a></li>
            <li><a href="#g">g</a></li>
            <li><a href="#rasproperties">RASProperties</a></li>
            <li><a href="#turbulenceproperties">turbulenceProperties</a></li>
            <li><a href="#couplingproperties">couplingProperties</a></li>
            <li><a href="#dynamicmeshdict">dynamicMeshDict</a></li>
            <li><a href="#liggghtscommands">liggghtsCommands</a></li>
          </ul>
        </li>
        <li><a href="#8-write-the-liggghts-input-file">8. Write the LIGGGHTS input file</a></li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="converting-the-openfoam-cavity-example-for-cfdem">
  Converting the OpenFOAM cavity example for CFDEM
  <a class="anchor" href="#converting-the-openfoam-cavity-example-for-cfdem">#</a>
</h1>
<p>The cavity case is a good one to start with as it forms the beginning of the

  <a href="https://www.openfoam.com/documentation/tutorial-guide">official OpenFOAM tutorials</a>.
These steps assume we&rsquo;re using the PUBLIC version of CFDEM which couples
LIGGGHTS-PUBLIC 3.8.0 and OpenFOAM-5.x. It also assumes that your environment
variables have already been setup as per the

  <a href="https://www.cfdem.com/media/CFDEM/docu/CFDEMcoupling_Manual.html#installation">CFDEM insallation instructions</a>.</p>
<h2 id="getting-the-case-files">
  Getting the case files
  <a class="anchor" href="#getting-the-case-files">#</a>
</h2>
<p>The lid-driven cavity flow example case comes with the OpenFOAM source code. If
you don&rsquo;t have it already from install OpenFOAM, get it by:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git clone https://github.com/OpenFOAM/OpenFOAM-5.x.git
</span></span></code></pre></div><p>and the cavity tutorial files are located in
<code>OpenFOAM-5.x/tutorials/incompressible/icoFoam/cavity/cavity</code>.</p>
<h2 id="1-set-up-the-directory-structure">
  1. Set up the directory structure
  <a class="anchor" href="#1-set-up-the-directory-structure">#</a>
</h2>
<p>In the directory of your choice, setup the directory structure. You will need a
&ldquo;DEM&rdquo; folder and a &ldquo;CFD&rdquo; folder. Initialize the CFD folder with the files from
the cavity OpenFOAM example.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># create a cavity-cfdem directory to store all the case files, and the DEM</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># subdirectory</span>
</span></span><span style="display:flex;"><span>mkdir -p cavity-cfdem/DEM
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># copy the cavity case into the CFD folder</span>
</span></span><span style="display:flex;"><span>cp -r OpenFOAM-5.x/tutorials/incompressible/icoFoam/cavity/cavity cavity-cfdem/CFD
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># move into the case folder</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87">cd</span> cavity-cfdem
</span></span></code></pre></div><h2 id="2-copy-a-cfdem-executor-wrapper-script-and-modify">
  2. Copy a CFDEM executor wrapper script and modify
  <a class="anchor" href="#2-copy-a-cfdem-executor-wrapper-script-and-modify">#</a>
</h2>
<p>From the CFDEM tutorial files, get a <code>parCFDDEMrun.sh</code> script.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cp <span style="color:#4e9a06">&#34;</span><span style="color:#000">$CFDEM_PROJECT_DIR</span><span style="color:#4e9a06">&#34;</span>/tutorials/cfdemSolverIB/twoSpheresGlowinskiMPI/<span style="color:#ce5c00;font-weight:bold">{</span>Allrun.sh,parCFDDEMrun.sh<span style="color:#ce5c00;font-weight:bold">}</span> .
</span></span></code></pre></div><p>The <code>Allrun.sh</code> script is fine as-is, but we need to modify the <code>parCFDDEMrun.sh</code>
script. From the existing file, change the corresponding variables to match
what&rsquo;s below:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#000">headerTest</span><span style="color:#ce5c00;font-weight:bold">=</span>cfdemSolverIB_cavity_CFDEM
</span></span><span style="display:flex;"><span><span style="color:#000">runOctave</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;false&#34;</span>
</span></span></code></pre></div><p>You may also want to set the <code>nrProcs</code> variable to suit your computer. The case
we will be building is also quite small, so I will choose <code>nrProcs=2</code>.
The remaining variables can remain the same. Note that we will still be using
the &ldquo;Immersed Boundary&rdquo; CFDEM solver.</p>
<h2 id="3-update-openfoam-mesh">
  3. Update OpenFOAM mesh
  <a class="anchor" href="#3-update-openfoam-mesh">#</a>
</h2>
<h3 id="3a-make-the-mesh-finer">
  3a. Make the mesh finer
  <a class="anchor" href="#3a-make-the-mesh-finer">#</a>
</h3>
<p>The cavity example case uses a 2D grid of cells which posesses 20 cells in both
directions. This is a little course, so we will double the number of cells in
each direction. Do this by changing the <code>blocks</code> dictionary to</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#000">blocks</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">hex</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">3</span> <span style="color:#0000cf;font-weight:bold">4</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">6</span> <span style="color:#0000cf;font-weight:bold">7</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">40</span> <span style="color:#0000cf;font-weight:bold">40</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000">simpleGrading</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>Everything else can remain the same.</p>
<h3 id="3b-add-the-mesh-decomposition-dictionary">
  3b. Add the mesh decomposition dictionary
  <a class="anchor" href="#3b-add-the-mesh-decomposition-dictionary">#</a>
</h3>
<p>Create the <code>CFD/system/decomposeParDict</code> file with the contents below:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">/*--------------------------------*- C++ -*----------------------------------*\
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|       o          |                                                          |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|    o     o       | HELYX-OS                                                  |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|   o   O   o      | Version: v2.4.0                                           |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|    o     o       | Web:     http://www.engys.com                            |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|       o          |                                                          |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">\*---------------------------------------------------------------------------*/</span>
</span></span><span style="display:flex;"><span><span style="color:#000">FoamFile</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">version</span> <span style="color:#0000cf;font-weight:bold">2.0</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">format</span> <span style="color:#000">ascii</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">dictionary</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">location</span> <span style="color:#000">system</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">object</span> <span style="color:#000">decomposeParDict</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">numberOfSubdomains</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">method</span> <span style="color:#000">simple</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">simpleCoeffs</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">n</span> <span style="color:#000;font-weight:bold">(</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">delta</span> <span style="color:#0000cf;font-weight:bold">0.001</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>This ensures the decomposition is done on two processors. Modify this accordingly
for the number of processors you would like to run this case on.</p>
<h2 id="4-update-initial-conditions">
  4. Update initial conditions
  <a class="anchor" href="#4-update-initial-conditions">#</a>
</h2>
<p>In the original cavity example, only initial boundary velocity and pressure needs to be
defined. To adapt this for CFDEM, initial boundary conditions for the variables <code>phiIB</code>,
<code>Us</code>, and <code>voidfraction</code> need to be defined.</p>
<h3 id="phiib">
  phiIB
  <a class="anchor" href="#phiib">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">/*--------------------------------*- C++ -*----------------------------------*\
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">| =========                 |                                                 |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">| \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox           |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|  \\    /   O peration     | Version:  5                                     |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|   \\  /    A nd           | Web:      www.OpenFOAM.org                      |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|    \\/     M anipulation  |                                                 |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">\*---------------------------------------------------------------------------*/</span>
</span></span><span style="display:flex;"><span><span style="color:#000">FoamFile</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">version</span>     <span style="color:#0000cf;font-weight:bold">2.0</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">format</span>      <span style="color:#000">ascii</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">class</span>       <span style="color:#000">volScalarField</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">object</span>      <span style="color:#000">phiB</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">dimensions</span>      <span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">internalField</span>   <span style="color:#000">uniform</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">boundaryField</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">movingWall</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">type</span>            <span style="color:#000">zeroGradient</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fixedWalls</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">type</span>            <span style="color:#000">zeroGradient</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">frontAndBack</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">type</span>            <span style="color:#000">empty</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ************************************************************************* //
</span></span></span></code></pre></div><h3 id="us">
  Us
  <a class="anchor" href="#us">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">/*--------------------------------*- C++ -*----------------------------------*\
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">| =========                 |                                                 |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">| \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox           |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|  \\    /   O peration     | Version:  5                                     |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|   \\  /    A nd           | Web:      www.OpenFOAM.org                      |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|    \\/     M anipulation  |                                                 |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">\*---------------------------------------------------------------------------*/</span>
</span></span><span style="display:flex;"><span><span style="color:#000">FoamFile</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">version</span>     <span style="color:#0000cf;font-weight:bold">2.0</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">format</span>      <span style="color:#000">ascii</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">class</span>       <span style="color:#000">volVectorField</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">object</span>      <span style="color:#000">Us</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">dimensions</span>      <span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">internalField</span>   <span style="color:#000">uniform</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">boundaryField</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">movingWall</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">type</span>            <span style="color:#000">zeroGradient</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fixedWalls</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">type</span>            <span style="color:#000">zeroGradient</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">frontAndBack</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">type</span>            <span style="color:#000">empty</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ************************************************************************* //
</span></span></span></code></pre></div><h3 id="voidfraction">
  voidfraction
  <a class="anchor" href="#voidfraction">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">/*--------------------------------*- C++ -*----------------------------------*\
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">| =========                 |                                                 |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">| \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox           |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|  \\    /   O peration     | Version:  5                                     |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|   \\  /    A nd           | Web:      www.OpenFOAM.org                      |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|    \\/     M anipulation  |                                                 |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">\*---------------------------------------------------------------------------*/</span>
</span></span><span style="display:flex;"><span><span style="color:#000">FoamFile</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">version</span>     <span style="color:#0000cf;font-weight:bold">2.0</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">format</span>      <span style="color:#000">ascii</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">class</span>       <span style="color:#000">volScalarField</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">object</span>      <span style="color:#000">voidfraction</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">dimensions</span>      <span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">internalField</span>   <span style="color:#000">uniform</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">boundaryField</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">movingWall</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">type</span>            <span style="color:#000">zeroGradient</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">fixedWalls</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">type</span>            <span style="color:#000">zeroGradient</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">frontAndBack</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">type</span>            <span style="color:#000">empty</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ************************************************************************* //
</span></span></span></code></pre></div><h2 id="5-update-solver-schemes">
  5. Update solver schemes
  <a class="anchor" href="#5-update-solver-schemes">#</a>
</h2>
<p>These are controlled by the <code>CFD/system/fvSchemes</code> dictionary. This will exist
already, but need schemes related to the additional parameters we&rsquo;ve added. Do
so by modifying the file to match below:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">/*--------------------------------*- C++ -*----------------------------------*\
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">| =========                 |                                                 |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">| \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox           |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|  \\    /   O peration     | Version:  1.6                                   |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|   \\  /    A nd           | Web:      www.OpenFOAM.org                      |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|    \\/     M anipulation  |                                                 |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">\*---------------------------------------------------------------------------*/</span>
</span></span><span style="display:flex;"><span><span style="color:#000">FoamFile</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">version</span>     <span style="color:#0000cf;font-weight:bold">2.0</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">format</span>      <span style="color:#000">ascii</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">class</span>       <span style="color:#000">dictionary</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">location</span>    <span style="color:#4e9a06">&#34;system&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">object</span>      <span style="color:#000">fvSchemes</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">ddtSchemes</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">default</span>         <span style="color:#000">Euler</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">gradSchemes</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">default</span>         <span style="color:#000">Gauss</span> <span style="color:#000">linear</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">grad</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">p</span><span style="color:#000;font-weight:bold">)</span>         <span style="color:#000">Gauss</span> <span style="color:#000">linear</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">grad</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">U</span><span style="color:#000;font-weight:bold">)</span>         <span style="color:#000">Gauss</span> <span style="color:#000">linear</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">divSchemes</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">default</span>         <span style="color:#000">Gauss</span> <span style="color:#000">linear</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">div</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">phi</span><span style="color:#000;font-weight:bold">,</span><span style="color:#000">U</span><span style="color:#000;font-weight:bold">)</span>      <span style="color:#000">Gauss</span> <span style="color:#000">limitedLinearV</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">div</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">phi</span><span style="color:#000;font-weight:bold">,</span><span style="color:#000">k</span><span style="color:#000;font-weight:bold">)</span>      <span style="color:#000">Gauss</span> <span style="color:#000">limitedLinear</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">div</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">phi</span><span style="color:#000;font-weight:bold">,</span><span style="color:#000">epsilon</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000">Gauss</span> <span style="color:#000">limitedLinear</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">div</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">phi</span><span style="color:#000;font-weight:bold">,</span><span style="color:#000">R</span><span style="color:#000;font-weight:bold">)</span>      <span style="color:#000">Gauss</span> <span style="color:#000">limitedLinear</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">div</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">R</span><span style="color:#000;font-weight:bold">)</span>          <span style="color:#000">Gauss</span> <span style="color:#000">linear</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">div</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">phi</span><span style="color:#000;font-weight:bold">,</span><span style="color:#000">nuTilda</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000">Gauss</span> <span style="color:#000">limitedLinear</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">div</span><span style="color:#000;font-weight:bold">((</span><span style="color:#000">nuEff</span><span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">dev</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">grad</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">U</span><span style="color:#000;font-weight:bold">).</span><span style="color:#000">T</span><span style="color:#000;font-weight:bold">())))</span> <span style="color:#000">Gauss</span> <span style="color:#000">linear</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">div</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">U</span><span style="color:#000;font-weight:bold">)</span>          <span style="color:#000">Gauss</span> <span style="color:#000">linear</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">laplacianSchemes</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">default</span>         <span style="color:#000">Gauss</span> <span style="color:#000">linear</span> <span style="color:#000">corrected</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">laplacian</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">nuEff</span><span style="color:#000;font-weight:bold">,</span><span style="color:#000">U</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000">Gauss</span> <span style="color:#000">linear</span> <span style="color:#000">corrected</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">laplacian</span><span style="color:#000;font-weight:bold">((</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#ce5c00;font-weight:bold">|</span><span style="color:#000">A</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">U</span><span style="color:#000;font-weight:bold">)),</span><span style="color:#000">p</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000">Gauss</span> <span style="color:#000">linear</span> <span style="color:#000">corrected</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">laplacian</span><span style="color:#000;font-weight:bold">((</span><span style="color:#000">voidfraction2</span><span style="color:#ce5c00;font-weight:bold">|</span><span style="color:#000">A</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">U</span><span style="color:#000;font-weight:bold">)),</span><span style="color:#000">p</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000">Gauss</span> <span style="color:#000">linear</span> <span style="color:#000">corrected</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">laplacian</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">DkEff</span><span style="color:#000;font-weight:bold">,</span><span style="color:#000">k</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000">Gauss</span> <span style="color:#000">linear</span> <span style="color:#000">corrected</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">laplacian</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">DepsilonEff</span><span style="color:#000;font-weight:bold">,</span><span style="color:#000">epsilon</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000">Gauss</span> <span style="color:#000">linear</span> <span style="color:#000">corrected</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">laplacian</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">DREff</span><span style="color:#000;font-weight:bold">,</span><span style="color:#000">R</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000">Gauss</span> <span style="color:#000">linear</span> <span style="color:#000">corrected</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">laplacian</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">DnuTildaEff</span><span style="color:#000;font-weight:bold">,</span><span style="color:#000">nuTilda</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000">Gauss</span> <span style="color:#000">linear</span> <span style="color:#000">corrected</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">laplacian</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">phiIB</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000">Gauss</span> <span style="color:#000">linear</span> <span style="color:#000">corrected</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">laplacian</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">U</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000">Gauss</span> <span style="color:#000">linear</span> <span style="color:#000">corrected</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">interpolationSchemes</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">default</span>         <span style="color:#000">linear</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">interpolate</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">U</span><span style="color:#000;font-weight:bold">)</span>  <span style="color:#000">linear</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">snGradSchemes</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">default</span>         <span style="color:#000">corrected</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">fluxRequired</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">default</span>         <span style="color:#000">no</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">p</span>               <span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ************************************************************************* //
</span></span></span></code></pre></div><h2 id="6-update-fvsolution">
  6. Update fvSolution
  <a class="anchor" href="#6-update-fvsolution">#</a>
</h2>
<p>This needs to be modified to ensure solvers are added for the turbulence and
CFDEM parameters being used with the <code>cfdemSolverIB</code> solver.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">/*--------------------------------*- C++ -*----------------------------------*\
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">| =========                 |                                                 |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">| \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox           |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|  \\    /   O peration     | Version:  1.6                                   |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|   \\  /    A nd           | Web:      www.OpenFOAM.org                      |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|    \\/     M anipulation  |                                                 |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">\*---------------------------------------------------------------------------*/</span>
</span></span><span style="display:flex;"><span><span style="color:#000">FoamFile</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">version</span>     <span style="color:#0000cf;font-weight:bold">2.0</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">format</span>      <span style="color:#000">ascii</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">class</span>       <span style="color:#000">dictionary</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">location</span>    <span style="color:#4e9a06">&#34;system&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">object</span>      <span style="color:#000">fvSolution</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">solvers</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">p</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">solver</span>          <span style="color:#000">PCG</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">preconditioner</span>  <span style="color:#000">DIC</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">tolerance</span>       <span style="color:#0000cf;font-weight:bold">1e-06</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">relTol</span>          <span style="color:#0000cf;font-weight:bold">0.1</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">pFinal</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">solver</span>          <span style="color:#000">PCG</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">preconditioner</span>  <span style="color:#000">DIC</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">tolerance</span>       <span style="color:#0000cf;font-weight:bold">1e-06</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">relTol</span>          <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">U</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">solver</span>          <span style="color:#000">PBiCG</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">preconditioner</span>  <span style="color:#000">DILU</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">tolerance</span>       <span style="color:#0000cf;font-weight:bold">1e-05</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">relTol</span>          <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">k</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">solver</span>          <span style="color:#000">PBiCG</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">preconditioner</span>  <span style="color:#000">DILU</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">tolerance</span>       <span style="color:#0000cf;font-weight:bold">1e-05</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">relTol</span>          <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">epsilon</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">solver</span>          <span style="color:#000">PBiCG</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">preconditioner</span>  <span style="color:#000">DILU</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">tolerance</span>       <span style="color:#0000cf;font-weight:bold">1e-05</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">relTol</span>          <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">R</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">solver</span>          <span style="color:#000">PBiCG</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">preconditioner</span>  <span style="color:#000">DILU</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">tolerance</span>       <span style="color:#0000cf;font-weight:bold">1e-05</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">relTol</span>          <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">nuTilda</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">solver</span>          <span style="color:#000">PBiCG</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">preconditioner</span>  <span style="color:#000">DILU</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">tolerance</span>       <span style="color:#0000cf;font-weight:bold">1e-05</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">relTol</span>          <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">phiIB</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">solver</span>          <span style="color:#000">PCG</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">preconditioner</span>  <span style="color:#000">DIC</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">tolerance</span>       <span style="color:#0000cf;font-weight:bold">1e-06</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">relTol</span>          <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">PISO</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">nCorrectors</span>     <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">nNonOrthogonalCorrectors</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">pRefCell</span>        <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">pRefValue</span>       <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ************************************************************************* //
</span></span></span></code></pre></div><h2 id="7-add-constants">
  7. Add constants
  <a class="anchor" href="#7-add-constants">#</a>
</h2>
<h3 id="transportproperties">
  transportProperties
  <a class="anchor" href="#transportproperties">#</a>
</h3>
<p>This will already exist from the original case. Modify it to match below:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">/*--------------------------------*- C++ -*----------------------------------*\
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">| =========                 |                                                 |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">| \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox           |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|  \\    /   O peration     | Version:  1.6                                   |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|   \\  /    A nd           | Web:      www.OpenFOAM.org                      |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|    \\/     M anipulation  |                                                 |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">\*---------------------------------------------------------------------------*/</span>
</span></span><span style="display:flex;"><span><span style="color:#000">FoamFile</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">version</span>     <span style="color:#0000cf;font-weight:bold">2.0</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">format</span>      <span style="color:#000">ascii</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">class</span>       <span style="color:#000">dictionary</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">location</span>    <span style="color:#4e9a06">&#34;constant&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">object</span>      <span style="color:#000">transportProperties</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">transportModel</span>  <span style="color:#000">Newtonian</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">nu</span>              <span style="color:#000">nu</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#000;font-weight:bold">]</span> <span style="color:#0000cf;font-weight:bold">0.01</span><span style="color:#000;font-weight:bold">;</span><span style="color:#8f5902;font-style:italic">//0.111426;//1.875e-03;//7.5e-03;//0.265883;
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">CrossPowerLawCoeffs</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">nu0</span>             <span style="color:#000">nu0</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#000;font-weight:bold">]</span> <span style="color:#0000cf;font-weight:bold">1e-06</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">nuInf</span>           <span style="color:#000">nuInf</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#000;font-weight:bold">]</span> <span style="color:#0000cf;font-weight:bold">1e-06</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">m</span>               <span style="color:#000">m</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#000;font-weight:bold">]</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">n</span>               <span style="color:#000">n</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#000;font-weight:bold">]</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">BirdCarreauCoeffs</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">nu0</span>             <span style="color:#000">nu0</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#000;font-weight:bold">]</span> <span style="color:#0000cf;font-weight:bold">1e-06</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">nuInf</span>           <span style="color:#000">nuInf</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#000;font-weight:bold">]</span> <span style="color:#0000cf;font-weight:bold">1e-06</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">k</span>               <span style="color:#000">k</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#000;font-weight:bold">]</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">n</span>               <span style="color:#000">n</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#000;font-weight:bold">]</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ************************************************************************* //
</span></span></span></code></pre></div><h3 id="g">
  g
  <a class="anchor" href="#g">#</a>
</h3>
<p>the <code>cfdemSolverIB</code> solver needs gravity to be described. We won&rsquo;t apply a
meaningful gravity here, so we are assigning a value of 0 with the file below.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">/*--------------------------------*- C++ -*----------------------------------*\
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">| =========                 |                                                 |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">| \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox           |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|  \\    /   O peration     | Version:  1.6                                   |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|   \\  /    A nd           | Web:      www.OpenFOAM.org                      |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|    \\/     M anipulation  |                                                 |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">\*---------------------------------------------------------------------------*/</span>
</span></span><span style="display:flex;"><span><span style="color:#000">FoamFile</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">version</span>     <span style="color:#0000cf;font-weight:bold">2.0</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">format</span>      <span style="color:#000">ascii</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">class</span>       <span style="color:#000">uniformDimensionedVectorField</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">location</span>    <span style="color:#4e9a06">&#34;constant&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">object</span>      <span style="color:#000">g</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">dimensions</span>      <span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">];</span>
</span></span><span style="display:flex;"><span><span style="color:#000">value</span>           <span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//value           (0 0 0);
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ************************************************************************* //
</span></span></span></code></pre></div><h3 id="rasproperties">
  RASProperties
  <a class="anchor" href="#rasproperties">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">/*--------------------------------*- C++ -*----------------------------------*\
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">| =========                 |                                                 |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">| \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox           |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|  \\    /   O peration     | Version:  1.6                                   |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|   \\  /    A nd           | Web:      www.OpenFOAM.org                      |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|    \\/     M anipulation  |                                                 |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">\*---------------------------------------------------------------------------*/</span>
</span></span><span style="display:flex;"><span><span style="color:#000">FoamFile</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">version</span>     <span style="color:#0000cf;font-weight:bold">2.0</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">format</span>      <span style="color:#000">ascii</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">class</span>       <span style="color:#000">dictionary</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">location</span>    <span style="color:#4e9a06">&#34;constant&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">object</span>      <span style="color:#000">RASProperties</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">RASModel</span>        <span style="color:#000">laminar</span><span style="color:#000;font-weight:bold">;</span><span style="color:#8f5902;font-style:italic">//kEpsilon;
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">turbulence</span>      <span style="color:#000">on</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">printCoeffs</span>     <span style="color:#000">on</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ************************************************************************* //
</span></span></span></code></pre></div><h3 id="turbulenceproperties">
  turbulenceProperties
  <a class="anchor" href="#turbulenceproperties">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">/*--------------------------------*- C++ -*----------------------------------*\
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">| =========                 |                                                 |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">| \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox           |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|  \\    /   O peration     | Version:  1.6                                   |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|   \\  /    A nd           | Web:      www.OpenFOAM.org                      |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|    \\/     M anipulation  |                                                 |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">\*---------------------------------------------------------------------------*/</span>
</span></span><span style="display:flex;"><span><span style="color:#000">FoamFile</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">version</span>     <span style="color:#0000cf;font-weight:bold">2.0</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">format</span>      <span style="color:#000">ascii</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">class</span>       <span style="color:#000">dictionary</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">location</span>    <span style="color:#4e9a06">&#34;constant&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">object</span>      <span style="color:#000">turbulenceProperties</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//simulationType  RASModel;//OFversion24x
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">simulationType</span>      <span style="color:#000">laminar</span><span style="color:#000;font-weight:bold">;</span><span style="color:#8f5902;font-style:italic">//OFversion30x
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ************************************************************************* //
</span></span></span></code></pre></div><h3 id="couplingproperties">
  couplingProperties
  <a class="anchor" href="#couplingproperties">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">/*---------------------------------------------------------------------------*\
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">| =========                 |                                                 |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">| \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox           |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|  \\    /   O peration     | Version:  1.4                                   |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|   \\  /    A nd           | Web:      http://www.openfoam.org               |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|    \\/     M anipulation  |                                                 |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">\*---------------------------------------------------------------------------*/</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">FoamFile</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">version</span>         <span style="color:#0000cf;font-weight:bold">2.0</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">format</span>          <span style="color:#000">ascii</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">root</span>            <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">case</span>            <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">instance</span>        <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">local</span>           <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">class</span>           <span style="color:#000">dictionary</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">object</span>          <span style="color:#000">couplingProperties</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===========================================================================//
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// sub-models &amp; settings
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">modelType</span> <span style="color:#000">none</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">couplingInterval</span> <span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">depth</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">voidFractionModel</span> <span style="color:#000">IB</span><span style="color:#000;font-weight:bold">;</span><span style="color:#8f5902;font-style:italic">//bigParticle;//centre; //
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">locateModel</span> <span style="color:#000">engineIB</span><span style="color:#000;font-weight:bold">;</span><span style="color:#8f5902;font-style:italic">//standard;//
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">meshMotionModel</span> <span style="color:#000">noMeshMotion</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">dataExchangeModel</span> <span style="color:#000">twoWayMPI</span><span style="color:#000;font-weight:bold">;</span><span style="color:#8f5902;font-style:italic">//twoWayFiles;
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">IOModel</span> <span style="color:#000">basicIO</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">probeModel</span> <span style="color:#000">off</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">averagingModel</span> <span style="color:#000">dilute</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">clockModel</span> <span style="color:#000">off</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">smoothingModel</span> <span style="color:#000">off</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">forceModels</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">ShirgaonkarIB</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">ArchimedesIB</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">momCoupleModels</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//turbulenceModelType RASProperties;//LESProperties; //OFversion24x
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">turbulenceModelType</span> <span style="color:#000">turbulenceProperties</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#8f5902;font-style:italic">//OFversion30x
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">//===========================================================================//
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// sub-model properties
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">ShirgaonkarIBProps</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">velFieldName</span> <span style="color:#4e9a06">&#34;U&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">pressureFieldName</span> <span style="color:#4e9a06">&#34;p&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">ArchimedesIBProps</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">gravityFieldName</span> <span style="color:#4e9a06">&#34;g&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">voidfractionFieldName</span> <span style="color:#4e9a06">&#34;voidfractionNext&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">twoWayFilesProps</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">maxNumberOfParticles</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">DEMts</span> <span style="color:#0000cf;font-weight:bold">0.0002</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">twoWayMPIProps</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">maxNumberOfParticles</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">liggghtsPath</span> <span style="color:#4e9a06">&#34;../DEM/in.liggghts_run&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">IBProps</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">maxCellsPerParticle</span> <span style="color:#0000cf;font-weight:bold">1000</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">alphaMin</span> <span style="color:#0000cf;font-weight:bold">0.30</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">scaleUpVol</span> <span style="color:#0000cf;font-weight:bold">1.0</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">bigParticleProps</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">maxCellsPerParticle</span> <span style="color:#0000cf;font-weight:bold">1000</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">alphaMin</span> <span style="color:#0000cf;font-weight:bold">0.30</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">scaleUpVol</span> <span style="color:#0000cf;font-weight:bold">1.0</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">centreProps</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">alphaMin</span> <span style="color:#0000cf;font-weight:bold">0.30</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">dividedProps</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">alphaMin</span> <span style="color:#0000cf;font-weight:bold">0.05</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">scaleUpVol</span> <span style="color:#0000cf;font-weight:bold">1.2</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">engineIBProps</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">treeSearch</span> <span style="color:#204a87">false</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">zSplit</span> <span style="color:#0000cf;font-weight:bold">8</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">xySplit</span> <span style="color:#0000cf;font-weight:bold">16</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ************************************************************************* //
</span></span></span></code></pre></div><h3 id="dynamicmeshdict">
  dynamicMeshDict
  <a class="anchor" href="#dynamicmeshdict">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">/*--------------------------------*- C++ -*----------------------------------*\
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">| =========                 |                                                 |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">| \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox           |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|  \\    /   O peration     | Version:  1.6                                   |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|   \\  /    A nd           | Web:      www.OpenFOAM.org                      |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|    \\/     M anipulation  |                                                 |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">\*---------------------------------------------------------------------------*/</span>
</span></span><span style="display:flex;"><span><span style="color:#000">FoamFile</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">version</span>     <span style="color:#0000cf;font-weight:bold">2.0</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">format</span>      <span style="color:#000">ascii</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">class</span>       <span style="color:#000">dictionary</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">location</span>    <span style="color:#4e9a06">&#34;constant&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">object</span>      <span style="color:#000">dynamicMeshDict</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">dynamicFvMesh</span>   <span style="color:#000">dynamicRefineFvMesh</span><span style="color:#000;font-weight:bold">;</span><span style="color:#8f5902;font-style:italic">//staticFvMesh;//
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">dynamicRefineFvMeshCoeffs</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">refineInterval</span>  <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">;</span><span style="color:#8f5902;font-style:italic">//refine every refineInterval timesteps
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">field</span>           <span style="color:#000">interFace</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">lowerRefineLevel</span> <span style="color:#0000cf;font-weight:bold">.0001</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">upperRefineLevel</span> <span style="color:#0000cf;font-weight:bold">0.99</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">unrefineLevel</span>   <span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">nBufferLayers</span>   <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">maxRefinement</span>   <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">;</span><span style="color:#8f5902;font-style:italic">//maximum refinement level (starts from 0)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">maxCells</span>        <span style="color:#0000cf;font-weight:bold">1000000</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">correctFluxes</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">(</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">(</span><span style="color:#000">phi</span>    <span style="color:#000">U</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">(</span><span style="color:#000">phi_0</span>  <span style="color:#000">U</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">dumpLevel</span>       <span style="color:#204a87">false</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ************************************************************************* //
</span></span></span></code></pre></div><h3 id="liggghtscommands">
  liggghtsCommands
  <a class="anchor" href="#liggghtscommands">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">/*---------------------------------------------------------------------------*\
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">| =========                 |                                                 |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">| \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox           |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|  \\    /   O peration     | Version:  1.4                                   |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|   \\  /    A nd           | Web:      http://www.openfoam.org               |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">|    \\/     M anipulation  |                                                 |
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">\*---------------------------------------------------------------------------*/</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">FoamFile</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">version</span>         <span style="color:#0000cf;font-weight:bold">2.0</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">format</span>          <span style="color:#000">ascii</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">root</span>            <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">case</span>            <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">instance</span>        <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">local</span>           <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">class</span>           <span style="color:#000">dictionary</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">object</span>          <span style="color:#000">liggghtsCommands</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">liggghtsCommandModels</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span>
</span></span><span style="display:flex;"><span>   <span style="color:#000">runLiggghts</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ************************************************************************* //
</span></span></span></code></pre></div><h2 id="8-write-the-liggghts-input-file">
  8. Write the LIGGGHTS input file
  <a class="anchor" href="#8-write-the-liggghts-input-file">#</a>
</h2>
<pre tabindex="0"><code>atom_style      granular
atom_modify     map array
communicate     single vel yes

boundary        f f f
newton          off

units           si
processors      * * 1

region          reg block -0.01 0.11 -.01 0.11 -.01 0.03 units box
create_box      1 reg

neigh_modify    delay 0 binsize 0.0


# Material properties required for new pair styles

fix             m1 all property/global youngsModulus peratomtype 5.e7
fix             m2 all property/global poissonsRatio peratomtype 0.45
fix             m3 all property/global coefficientRestitution peratomtypepair 1 0.9
fix             m4 all property/global coefficientFriction peratomtypepair 1 0.5

# pair style
pair_style      gran model hertz tangential history #Hertzian without cohesion
pair_coeff      * *

# timestep, gravity
timestep        0.0002

fix             gravi all gravity 0 vector 0.0 0.0 -1.0

# walls
fix     xwalls1 all wall/gran model hertz tangential history primitive type 1 xplane 0.
fix     xwalls2 all wall/gran model hertz tangential history primitive type 1 xplane 0.1
fix     ywalls1 all wall/gran model hertz tangential history primitive type 1 yplane 0.
fix     ywalls2 all wall/gran model hertz tangential history primitive type 1 yplane 0.1 shear x 1
fix     zwalls1 all wall/gran model hertz tangential history primitive type 1 zplane 0.
fix     zwalls2 all wall/gran model hertz tangential history primitive type 1 zplane 0.1

# cfd coupling
fix     cfd  all couple/cfd couple_every 10 mpi
fix     cfd2 all couple/cfd/force


# create single partciles
create_atoms 1 single .05 .025 0.01
create_atoms 1 single .05 .075 0.01
set atom 1 diameter 0.005 density 2600 vx 0 vy 0 vz 0
set atom 2 diameter 0.005 density 2600 vx 0 vy 0 vz 0

# apply nve integration to all particles that are inserted as single particles
fix             integr all nve/sphere #wenn das ausgeblendet, dann kein vel update

# screen output
compute         rke all erotate/sphere
thermo_style    custom step atoms ke c_rke vol
thermo          1000
thermo_modify   lost ignore norm no
compute_modify  thermo_temp dynamic yes

# insert the first particles so that dump is not empty
dump		    dmp2 all custom/vtk 50 post/dump*.vtk id type type x y z vx vy vz radius

run             1
</code></pre></article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">


  <div><a class="flex align-center" href="https://github.com/edoyango/personal-webpage/commit/63221a6752cf76729b00bb2edd08c3312d7bb17e" title='Last modified by Edward Yang | July 8, 2023' target="_blank" rel="noopener">
      <img src="/worknotes/svg/calendar.svg" class="book-icon" alt="Calendar" />
      <span>July 8, 2023</span>
    </a>
  </div>



  <div>
    <a class="flex align-center" href="https://github.com/edoyango/personal-webpage/edit/main/worknotes/content/docs/cfdem/cavitycfdem.md" target="_blank" rel="noopener">
      <img src="/worknotes/svg/edit.svg" class="book-icon" alt="Edit" />
      <span>Edit this page</span>
    </a>
  </div>


</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#converting-the-openfoam-cavity-example-for-cfdem">Converting the OpenFOAM cavity example for CFDEM</a>
      <ul>
        <li><a href="#getting-the-case-files">Getting the case files</a></li>
        <li><a href="#1-set-up-the-directory-structure">1. Set up the directory structure</a></li>
        <li><a href="#2-copy-a-cfdem-executor-wrapper-script-and-modify">2. Copy a CFDEM executor wrapper script and modify</a></li>
        <li><a href="#3-update-openfoam-mesh">3. Update OpenFOAM mesh</a>
          <ul>
            <li><a href="#3a-make-the-mesh-finer">3a. Make the mesh finer</a></li>
            <li><a href="#3b-add-the-mesh-decomposition-dictionary">3b. Add the mesh decomposition dictionary</a></li>
          </ul>
        </li>
        <li><a href="#4-update-initial-conditions">4. Update initial conditions</a>
          <ul>
            <li><a href="#phiib">phiIB</a></li>
            <li><a href="#us">Us</a></li>
            <li><a href="#voidfraction">voidfraction</a></li>
          </ul>
        </li>
        <li><a href="#5-update-solver-schemes">5. Update solver schemes</a></li>
        <li><a href="#6-update-fvsolution">6. Update fvSolution</a></li>
        <li><a href="#7-add-constants">7. Add constants</a>
          <ul>
            <li><a href="#transportproperties">transportProperties</a></li>
            <li><a href="#g">g</a></li>
            <li><a href="#rasproperties">RASProperties</a></li>
            <li><a href="#turbulenceproperties">turbulenceProperties</a></li>
            <li><a href="#couplingproperties">couplingProperties</a></li>
            <li><a href="#dynamicmeshdict">dynamicMeshDict</a></li>
            <li><a href="#liggghtscommands">liggghtsCommands</a></li>
          </ul>
        </li>
        <li><a href="#8-write-the-liggghts-input-file">8. Write the LIGGGHTS input file</a></li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












