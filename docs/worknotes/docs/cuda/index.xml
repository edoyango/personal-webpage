<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>CUDA Programming on Ed&#39;s Space - Notes</title>
    <link>/worknotes/docs/cuda/</link>
    <description>Recent content in CUDA Programming on Ed&#39;s Space - Notes</description>
    <generator>Hugo</generator>
    <language>en</language>
    <atom:link href="/worknotes/docs/cuda/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>CUDA &#43; NVHPC on WSL</title>
      <link>/worknotes/docs/cuda/cuda-wsl/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/worknotes/docs/cuda/cuda-wsl/</guid>
      <description>&lt;h1 id=&#34;installing-cuda--nvhpc-on-wsl&#34;&gt;&#xA;  Installing CUDA + NVHPC on WSL&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#installing-cuda--nvhpc-on-wsl&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;p&gt;This page describes the steps to setup CUDA and NVHPC within the WSL2 container (Windows 10) - avoiding the need for dual-boot or a separate Linux PC. Note that WSL2 must not have been installed when beginning these steps.&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Install the latest Windows CUDA graphics driver&lt;/li&gt;&#xA;&lt;li&gt;Install WSL2&#xA;&lt;ul&gt;&#xA;&lt;li&gt;open PowerShell as administrator&lt;/li&gt;&#xA;&lt;li&gt;Make sure to update WSL kernel to latest version wsl &amp;ndash;update&#xA;&lt;ul&gt;&#xA;&lt;li&gt;if accidentally rolled back, follow the instructions here&lt;/li&gt;&#xA;&lt;li&gt;then wsl &amp;ndash;update again&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;check which Linux flavours are available with wsl &amp;ndash;list &amp;ndash;online&lt;/li&gt;&#xA;&lt;li&gt;install the desired flavour by wsl &amp;ndash;install -d &lt;flavour name&gt;&lt;/li&gt;&#xA;&lt;li&gt;start WSL with wsl, or opening the WSL application from the Windows search bar&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;sudo apt update &amp;amp;&amp;amp; sudo apt upgrade -y&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;Close and restart WSL&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;sudo apt update &amp;amp;&amp;amp; sudo apt upgrade -y &amp;amp;&amp;amp; sudo apt autoremove -y&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;Install CUDA for WSL&#xA;&lt;ul&gt;&#xA;&lt;li&gt;check which CUDA version is compatible with the desired version NVHPC kit here&lt;/li&gt;&#xA;&lt;li&gt;select the correct CUDA version here&lt;/li&gt;&#xA;&lt;li&gt;Select the right setup: Linux -&amp;gt; x86_64 -&amp;gt; WSL-Ubuntu -&amp;gt; 2.0 -&amp;gt; dev (local)&lt;/li&gt;&#xA;&lt;li&gt;before beginning install, delete old GPG key sudo apt-key del 7fa2af80&lt;/li&gt;&#xA;&lt;li&gt;Perform the install with code below:&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;wget https://developer.download.nvidia.com/compute/cuda/repos/wsl-ubuntu/x86_64/cuda-wsl-ubuntu.pin&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo mv cuda-wsl-ubuntu.pin /etc/apt/preferences.d/cuda-repository-pin-600&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;wget https://developer.download.nvidia.com/compute/cuda/11.7.1/local_installers/cuda-repo-wsl-ubuntu-11-7-local_11.7.1-1_amd64.deb&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo dpkg -i cuda-repo-wsl-ubuntu-11-7-local_11.7.1-1_amd64.deb&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo cp /var/cuda-repo-wsl-ubuntu-11-7-local/cuda-*-keyring.gpg /usr/share/keyrings/&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo apt-get update&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo apt-get -y install cuda&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;7&#34;&gt;&#xA;&lt;li&gt;Install NVHPC&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Download the desired NVHPC kit&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;tar xzvf nvhpc*.tar.gz&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;sudo nvhpc*/install&lt;/code&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h1 id=&#34;uninstalling-nvhpc-and-cuda&#34;&gt;&#xA;  Uninstalling NVHPC and CUDA&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#uninstalling-nvhpc-and-cuda&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo rm /opt/nvidia/hpc_sdk&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo apt-get purge -y cuda &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; sudo apt-get autoremove -y&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo rm /usr/share/keyrings/cuda-*-keyring.gpg&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo dpdkg -P cuda-repo-wsl-ubuntu-*-*-local_*amd64.deb&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You can then perform the installation steps again for the desired NVHPC-CUDA combination&lt;/p&gt;</description>
    </item>
    <item>
      <title>Fixed-Radius Neighbour Search Using Thrust</title>
      <link>/worknotes/docs/cuda/frn-thrust/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/worknotes/docs/cuda/frn-thrust/</guid>
      <description>&lt;h1 id=&#34;fixed-radius-neighbour-search-using-thrust&#34;&gt;&#xA;  Fixed-Radius Neighbour Search Using Thrust&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#fixed-radius-neighbour-search-using-thrust&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;p&gt;This page describes how one might implement the pair-finding algorithm described by &#xA;  &lt;a href=&#34;https://developer.download.nvidia.com/assets/cuda/files/particles.pdf&#34;&gt;Simon Green (2010)&lt;/a&gt;.&#xA;Many implementations of Simon&amp;rsquo;s work exists, such as the &#xA;  &lt;a href=&#34;https://github.com/lxxue/FRNN&#34;&gt;FRNN Python package&lt;/a&gt;.&lt;/p&gt;&#xA;&lt;h2 id=&#34;why-thrust&#34;&gt;&#xA;  Why Thrust?&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#why-thrust&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;I would argue that there is a fairly strong incentive to make GPU-accelerated codes portable across different&#xA;hardware platforms. At the time of writing, NVIDIA GPUs are becoming more challenging to get a hold of, and are&#xA;more expensive relative to their competition (i.e., AMD and Intel GPUs). Consequently, it is becoming harder to justify&#xA;writing code exclusively using the CUDA ecosystem.&lt;/p&gt;</description>
    </item>
    <item>
      <title></title>
      <link>/worknotes/docs/cuda/hidden/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/worknotes/docs/cuda/hidden/</guid>
      <description>&lt;h1 id=&#34;this-page-is-hidden-in-menu&#34;&gt;&#xA;  This page is hidden in menu&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#this-page-is-hidden-in-menu&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;h1 id=&#34;quondam-non-pater-est-dignior-ille-eurotas&#34;&gt;&#xA;  Quondam non pater est dignior ille Eurotas&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#quondam-non-pater-est-dignior-ille-eurotas&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;h2 id=&#34;latent-te-facies&#34;&gt;&#xA;  Latent te facies&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#latent-te-facies&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;Lorem markdownum arma ignoscas vocavit quoque ille texit mandata mentis ultimus,&#xA;frementes, qui in vel. Hippotades Peleus &#xA;  &lt;a href=&#34;http://gratia.net/tot-qua.php&#34;&gt;pennas&#xA;conscia&lt;/a&gt; cuiquam Caeneus quas.&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Pater demittere evincitque reddunt&lt;/li&gt;&#xA;&lt;li&gt;Maxime adhuc pressit huc Danaas quid freta&lt;/li&gt;&#xA;&lt;li&gt;Soror ego&lt;/li&gt;&#xA;&lt;li&gt;Luctus linguam saxa ultroque prior Tatiumque inquit&lt;/li&gt;&#xA;&lt;li&gt;Saepe liquitur subita superata dederat Anius sudor&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;cum-honorum-latona&#34;&gt;&#xA;  Cum honorum Latona&#xA;  &lt;a class=&#34;anchor&#34; href=&#34;#cum-honorum-latona&#34;&gt;#&lt;/a&gt;&#xA;&lt;/h2&gt;&#xA;&lt;p&gt;O fallor &#xA;  &lt;a href=&#34;http://www.spectataharundine.org/aquas-relinquit.html&#34;&gt;in sustinui&#xA;iussorum&lt;/a&gt; equidem.&#xA;Nymphae operi oris alii fronde parens dumque, in auro ait mox ingenti proxima&#xA;iamdudum maius?&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
