<!doctype html>
<html>
	<head>
		<title>Ed Space - Worknotes - Raspberry Pis</title>
		<link href="/css/general.css" rel="stylesheet">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
	</head>
	<body>
	
		<!-- Top navigation bar -->
		<nav class="navbar navbar-default sticky-top">
			<div class="container-fluid">
				<ul class="nav navbar-nav">
					<li class="nav-item"><a href="/index.html">Home</a></li>
					<li class="nav-item"><a href="/about.html">About Me</a></li>
					<li class="nav-item active"><a href="/worknotes/index.html">Work Notes</a></li>
					<li class="nav-item"><a href="/trips/index.html">Trips</a></li>
					<li class="nav-item"><a href="/apps/index.html">Web Tools</a></li>
		  		</ul>
			</div>
		</nav>
		
		<div class="normalwidth">
			<h1>Setting Up Public Webserver on Raspberry Pi</h1>
			<p>The instructions here assumes you're using Raspberry Pi Lite as the OS on the Raspberry Pi. Other OS' are largely similar though. The main difference will be the packages and package managers, and the firewall tool.</p>
			<p><ul>
				<li>Setup the pi to host the server<ol>
					<li>Flash disk with raspberry pi lite. Insert disk into pi and power them on.</li>
					<li>(follow the instructions <a href="https://linuxhint.com/install_apache_web_server_ubuntu/">here</a> up to step 4)</li>
				</ol></li>
				<li>Setup router to forward http/https/ssh requests to the Raspberry Pi
					<ol>
						<li>Obtain MAC address of Raspberry Pi e.g.,
							<pre><code>$ ip addr
insert example code</code></pre>
								and note the correct one based on which interface you're using to the router. I.e., if the Pi is connected to the router via WiFi, use the <code>wlan</code> MAC address. If connected via ethernet, use the <code>eth0</code> MAC address.
						</li>
						<li>On the router:
							<ol>
								<li>Assign a static IP address to the Pi. Instructions are readily available online for most manufacturers. This will require the MAC address collected in the previous step.</li>
								<li>Setup port forwarding to forward packages to port 22, 80, 443, and 8443 to the IP address you've assigned the pi in the previous step.</li>
								<li>Test the setup. While on a machine connected to the router, you can test ssh and http connection from the command line with <code>ssh pi@&lt;ip-address&gt;</code> and <code>curl http://&lt;ip-address&gt;</code><li>. You can also check http by entering the URL into your web browser: <code>http://&lt;ip-address&gt;</code>. Note that <code>&lt;ip-address&gt;</code> is the static IP address you assigned to the Pi on the router.
							</ol>
						</li>
						<li>Sign an SSL certificate to enable HTTPS connections. This requires signing an SSL certificate. There are many paid services out there, but the free <a href="https://letencrypt.org">Let's Encrypt</a> SSL certificate signing service is the best option (because it's free). Using the automatic cert-bot option should be fine (<a href="https://certbot.eff.org/instructions?ws=apache&os=ubuntufocal">instructions for Ubuntu</a>).
							You can test that the signed certificate works, by navigating to the Pi web server in a browser on another device i.e., <code>https://&lt;ip-address&gt;</code> (note the "s").
						</li>
					</ol>
				</li>
				<li>Get your ISP to open ports 22, 80, 443, and 8443 to your house. I had to send an online request to them and they followed up with me on the phone.</li>
			</ul></p>
		</div>

		<hr>
		<div class="footer">
			<p>Content first published: 18 Jan 2023 &nbsp;&nbsp;&nbsp; Content last modified: 18 Jan 2023</p>
			<p><a href="mailto:edward_yang_125@hotmail.com"><img src="/static/logos/email.png"> Email</a>&nbsp;&nbsp;&nbsp; <a href="https://www.github.com/edoyango"><img src="/static/logos/github.png"> Github</a>&nbsp;&nbsp;&nbsp; <a href="https://www.linkedin.com/in/edward-yang-a0a9941b1"><img src="/static/logos/linkedin.png"> LinkedIn</a></p>
		</div>
		
	</body>
</html>
