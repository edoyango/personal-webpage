<!doctype html>
<html>
	<head>
		<title>Ed Space - Worknotes - CUDA</title>
		<link href="/css/general.css" rel="stylesheet">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
		<link href="/css/fortran-syntax.css" rel="stylesheet">
	</head>
	<body>
	
		<!-- Top navigation bar -->
		<nav class="navbar navbar-default sticky-top">
			<div class="container-fluid">
				<ul class="nav navbar-nav">
					<li class="nav-item"><a href="/index.html">Home</a></li>
					<li class="nav-item"><a href="/about.html">About Me</a></li>
					<li class="nav-item active"><a href="/worknotes/index.html">Work Notes</a></li>
					<li class="nav-item"><a href="/trips/index.html">Trips</a></li>
					<li class="nav-item"><a href="/apps/index.html">Web Tools</a></li>
		  		</ul>
			</div>
		</nav>
		
		<div class="normalwidth">
			<h1>Error Handling</h1>
			<p>Basic functionality to check errors in CUDA functions and kernel subroutines.</p>
			<p><a href="samples/error-handling.cuf" download="error-handling.cuf">Download link</a></p>
            <pre><code><span class="fcomment">! the cuda GetErrorString function can be used to obtain error messages from error codes</span>
ierr = <span class="fnv">cudaGetDeviceCount</span>(nDevices)
<span class="fstd">if</span> (ierr/= <span class="fnv">cudaSuccess</span>) write (*,*) <span class="fnv">cudaGetErrorString</span>(ierr)

<span class="fcomment">! kernel errors are checked using cudaGetLastError</span>
<span class="fstd">call</span> increment <span class="fnv">&lt;&lt;&lt;1,n&gt;&gt;&gt;</span>(a_d , b)
ierrSync = <span class="fnv">cudaGetLastError</span>()
ierrAsync = <span class="fnv">cudaDeviceSynchronize</span>()
<span class="fstd">if</span> (ierrSync /= <span class="fnv">cudaSuccess</span>) <span class="fstd">write</span>(*,*) 'Sync kernel error', <span class="fnv">cudaGetErrorString</span>(ierrSync)
<span class="fstd">if</span> (ierrAsync /= <span class="fnv">cudaSuccess</span>) <span class="fstd">write</span>(*,*) 'Async kernel error:', <span class="fnv">cudaGetErrorString</span>(<span class="fnv">cudaGetLastError</span>())</code></pre>
		</div>

		<hr>
		<div class="footer">
			<p>Content first published: 24 Jan 2023 &nbsp;&nbsp;&nbsp; Content last modified: 25 Jan 2023</p>
			<p><a href="mailto:edward_yang_125@hotmail.com"><img src="/static/logos/email.png"> Email</a>&nbsp;&nbsp;&nbsp; <a href="https://www.github.com/edoyango"><img src="/static/logos/github.png"> Github</a>&nbsp;&nbsp;&nbsp; <a href="https://www.linkedin.com/in/edward-yang-a0a9941b1"><img src="/static/logos/linkedin.png"> LinkedIn</a></p>
		</div>
		
	</body>
</html>
